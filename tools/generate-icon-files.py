#!/usr/bin/env python3

import argparse
import os.path
import sys
import re
from PIL import Image

#
# Line states
#
#   n   never laid
#   o   open
#   c   closed
#   t   tourist
#   l   lifted
#
states      = ('n', 'o', 'c', 't', 'l')

icon_width  = 22
icon_height = 22

def generate_icon(destdir, padx, pady, image, filename):
    if pady:
        for n in range(pady):
            image.insert(0, image[0])
            image.append(image[-1])
    if padx:
        for n in range(len(image)):
            s = image[n]
            image[n] = s[0] * padx + s + s[-1] * padx

    width = icon_width + padx * 2;
    height = icon_height + pady * 2;

    data = []
    for px in ''.join(image):
        if px == '.':
            data.append((0xff, 0xff, 0xff))
        elif px == 'X':
            data.append((0x00, 0x00, 0x00))
        elif px == 'x':
            data.append((0x80, 0x80, 0x80))
        elif px == 'n':
            data.append((0x99, 0x99, 0x99))
        elif px == 'o':
            data.append((0x00, 0xcc, 0x00))
        elif px == 'c':
            data.append((0xff, 0x00, 0x00))
        elif px == 't':
            data.append((0x00, 0x66, 0xff))
        elif px == 'l':
            data.append((0x33, 0x33, 0x33))

    h = Image.new('RGB', (width, height))

    h.putdata(data)
    h.save(os.path.join(destdir, filename))

def generate_1_colour(destdir, padx, pady, image_tpl, filename_tpl):
    for c1 in states:
        filename = re.sub('C1', c1, filename_tpl)

        image = [re.sub('1', c1, row) for row in image_tpl]

        generate_icon(destdir, padx, pady, image, filename)

def generate_2_colour(destdir, padx, pady, image_tpl, filename_tpl):
    for c1 in states:
        for c2 in states:
            filename = re.sub('C1', c1, filename_tpl)
            filename = re.sub('C2', c2, filename)

            image = [re.sub('1', c1, row) for row in image_tpl]
            image = [re.sub('2', c2, row) for row in image]

            generate_icon(destdir, padx, pady, image, filename)

def generate_3_colour(destdir, padx, pady, image_tpl, filename_tpl):

    for c1 in states:
        for c2 in states:
            for c3 in states:
                filename = re.sub('C1', c1, filename_tpl)
                filename = re.sub('C2', c2, filename)
                filename = re.sub('C3', c3, filename)

                image = [re.sub('1', c1, row) for row in image_tpl]
                image = [re.sub('2', c2, row) for row in image]
                image = [re.sub('3', c3, row) for row in image]

                generate_icon(destdir, padx, pady, image, filename)

def generate_4_colour(destdir, padx, pady, image_tpl, filename_tpl):

    for c1 in states:
        for c2 in states:
            for c3 in states:
                for c4 in states:
                    filename = re.sub('C1', c1, filename_tpl)
                    filename = re.sub('C2', c2, filename)
                    filename = re.sub('C3', c3, filename)
                    filename = re.sub('C4', c4, filename)

                    image = [re.sub('1', c1, row) for row in image_tpl]
                    image = [re.sub('2', c2, row) for row in image]
                    image = [re.sub('3', c3, row) for row in image]
                    image = [re.sub('4', c4, row) for row in image]

                    generate_icon(destdir, padx, pady, image, filename)

def make_stn_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'stn_C1C2.png')

    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'stn0_C1.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'stn1_C1.png')

def make_pfm_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'pfm_C1.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'pfm_C1C2.png')

def make_hlt_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'hlt_C1C2.png')

def make_lop_icons(destdir, padx, pady):
    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........122..........",
        "........1122..........",
        ".......11.22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        ".......11.22..........",
        "........1122..........",
        ".........122..........",
        "..........33..........",
        "..........33..........",
        "..........33..........",
        "..........33..........",
        "..........33.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'lop_C1_C2C3.png')

def make_sdg_icons(destdir, padx, pady):
    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........122..........",
        "........1122..........",
        ".......11.22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..33..........",
        "..........33..........",
        "..........33..........",
        "..........33..........",
        "..........33.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'sdg_C1_C2C3.png')

    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........122..........",
        "........1122..........",
        ".......11.22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..22..........",
        "......11..............",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_2_colour(destdir, padx, pady, template, 'sdg_C1_C2.png')

def make_yrd_icons(destdir, padx, pady):
    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........1221.........",
        "........112211........",
        ".......11.22.11.......",
        "......111.22.11.......",
        ".....1.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "..........33..........",
        "..........33..........",
        "..........33..........",
        "..........33.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'yrd_C1_C2C3.png')

    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........1221.........",
        "........112211........",
        ".......11.22.11.......",
        "......111.22.11.......",
        ".....1.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "....11.11.22.11.......",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_3_colour(destdir, padx, pady, template, 'yrd_C1_C2.png')

    template = [
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        ".........1221.........",
        "........112211........",
        ".......11.22.11.......",
        "......111.22.11.......",
        ".....1.11.22.11.......",
        "....11.11.22411.......",
        "....11.11.2244444.....",
        "....11.11.224444444444",
        "....11.11.33.11..44444",
        "....11.11.33.11.......",
        "....11.11.33.11.......",
        "....11.11.33.11.......",
        "....11.11.33.11.......",
        "..........33..........",
        "..........33..........",
        "..........33..........",
        "..........33.........."
    ];

    generate_4_colour(destdir, padx, pady, template, 'yrd1_C1_C2C3_C4.png')

def make_end_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "........XXXXXX........",
        "........XXXXXX........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'end_C1.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "........xxxxxx........",
        "........xxxxxx........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'end_C1C2.png')

def make_tnl_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".......X..11..X.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        "..........11..........",
        "......................",
        "..........11..........",
        "..........11..........",
        "......................",
        "..........11..........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......X..11..X.......",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'tnl_C1.png')

def make_tnk_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..XXXXXX..",
        "..........11..XXXXXX..",
        "..........11..XXXXXX..",
        "..........11..XXXXXX..",
        "..........11...X..X...",
        "..........11...X..X...",
        "..........11...X..X...",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'tnk_C1.png')

def make_col_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..xX...xXX",
        "..........11.xX...xXXX",
        "..........11.X.X...XXx",
        "..........11...xX.Xx.x",
        "..........11....xXx...",
        "..........11....XxX...",
        "..........11...Xx.xX..",
        "..........11..Xx...xX.",
        "..........11.Xx.....xX",
        "..........11..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'col_C1C2.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..xX...xXX",
        "..........11.xX...xXXX",
        "..........11.X.X...XXx",
        "..........11...xX.Xx.x",
        "..........11....xXx...",
        "..........11....XxX...",
        "..........11...Xx.xX..",
        "..........11..Xx...xX.",
        "..........11.Xx.....xX",
        "..........11..........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'col_C1.png')

def make_min_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11...X....XX",
        "..........11..X....XXX",
        "..........11.X.X...XX.",
        "..........11....X.X...",
        "..........11.....X....",
        "..........11....X.X...",
        "..........11...X...X..",
        "..........11..X.....X.",
        "..........11.X.......X",
        "..........11..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'min_C1C2.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11...X....XX",
        "..........11..X....XXX",
        "..........11.X.X...XX.",
        "..........11....X.X...",
        "..........11.....X....",
        "..........11....X.X...",
        "..........11...X...X..",
        "..........11..X.....X.",
        "..........11.X.......X",
        "..........11..........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'min_C1.png')

def make_brd_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "x.xxxx.xx.11.xx.xxxx.x",
        "x.xxxx.xx.11.xx.xxxx.x",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'brd_C1.png')

def make_crs_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "XXXXXXXXX.11.XXXXXXXXX",
        "xxxxxxxxx.11.xxxxxxxxx",
        "xxxxxxxxx.11.xxxxxxxxx",
        "xxxxxxxxx.11.xxxxxxxxx",
        "xxxxxxxxx.11.xxxxxxxxx",
        "XXXXXXXXX.11.XXXXXXXXX",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'crs_C1.png')


def make_other_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXxxXX........",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        "........XXxxXX........",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'oth_C1C2.png')

    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        ".........XXXX.........",
        "........XXxxXX........",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        "........XXxxXX........",
        ".........XXXX.........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'oth0_C1.png')

    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXxxXX........",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        ".......XX....XX.......",
        "........XXxxXX........",
        ".........XXXX.........",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'oth1_C1.png')

def make_jctstn0_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......XXXX............",
        ".....XXXXXX...........",
        "....XXXXXXXX..........",
        "..22XXXXXXXX33333.....",
        "..22XXXXXXXX33333.....",
        "....XXXXXXXX..........",
        ".....XXXXXX...........",
        "......XXXX1...........",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn0_C1_C2C3.png')

def make_jctstn1_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "...........11.........",
        "...........11.........",
        "...........11XXXX.....",
        "............XXXXXX....",
        "...........XXXXXXXX...",
        "......22222XXXXXXXX33.",
        "......22222XXXXXXXX33.",
        "...........XXXXXXXX...",
        "............XXXXXX....",
        ".............XXXX.....",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn1_C1_C2C3.png')

def make_jctstn2_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".....33XXXXXXXX.......",
        ".333333XXXXXXXX.......",
        ".3333...XXXXXX........",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn2_C1C2_C3.png')

def make_jctstn3_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX........",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX33.....",
        ".......XXXXXXXX3333333",
        "........XXXXXX...33333",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn3_C1C2_C3.png')

def make_jctstn4_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX...33333",
        ".......XXXXXXXX3333333",
        ".......XXXXXXXX33.....",
        ".......XXXXXXXX.......",
        ".......XXXXXXXX.......",
        "........XXXXXX........",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn4_C1C2_C3.png')


def make_jctstn5_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......XXXX............",
        ".....XXXXXX...........",
        "....XXXXXXXX..........",
        ".222XXXXXXXX..........",
        ".222XXXXXXXX..........",
        "....XXXXXXXX..........",
        ".....XXXXXX...........",
        "......XXXX1...........",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'jctstn5_C1_C2.png')

def make_jctstn6_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "...........11.........",
        "...........11.........",
        "...........11XXXX.....",
        "............XXXXXX....",
        "...........XXXXXXXX...",
        "...........XXXXXXXX222",
        "...........XXXXXXXX222",
        "...........XXXXXXXX...",
        "............XXXXXX....",
        ".............XXXX.....",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_3_colour(destdir, padx, pady, template, 'jctstn6_C1_C2.png')

def make_jctstn7_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........XXXX.........",
        "........XXXXXX...33333",
        ".......XXXXXXXX3333333",
        ".......XXXXXXXX33.....",
        ".......XXXXXXXX44.....",
        ".......XXXXXXXX4444444",
        "........XXXXXX...44444",
        ".........XXXX.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_4_colour(destdir, padx, pady, template, 'jctstn7_C1C2_C3C4.png')

def make_jct0_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "..222223333333333.....",
        "..222222233333333.....",
        ".....1111.............",
        ".......111............",
        "........111...........",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jct0_C1_C2C3.png')

def make_jct1_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "...........11.........",
        "...........11.........",
        "...........111........",
        "............111.......",
        ".............1111.....",
        "......222222223333333.",
        "......222222222333333.",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_3_colour(destdir, padx, pady, template, 'jct1_C1_C2C3.png')

def make_jct2_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........312..........",
        ".........312..........",
        "........3322..........",
        ".......33322..........",
        ".....3333.22..........",
        ".333333...22..........",
        ".3333.....22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jct2_C1C2_C3.png')

def make_jct3_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........213.........",
        "..........213.........",
        "..........2233........",
        "..........22333.......",
        "..........22.3333.....",
        "..........22...3333333",
        "..........22.....33333",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jct3_C1C2_C3.png')

def make_jct4_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.....33333",
        "..........11...3333333",
        "..........11.3333.....",
        "..........11333.......",
        "..........1133........",
        "..........123.........",
        "..........123.........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_3_colour(destdir, padx, pady, template, 'jct4_C1C2_C3.png')

def make_jct5_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "..22222...............",
        "..222222..............",
        ".....1111.............",
        ".......111............",
        "........111...........",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'jct5_C1_C2.png')

def make_jct6_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "...........11.........",
        "...........11.........",
        "...........111........",
        "............111.......",
        ".............1111.....",
        "..............3333333.",
        "...............333333.",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_2_colour(destdir, padx, pady, template, 'jct6_C1_C2.png')

def make_jct7_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11....333333",
        "..........11..33333333",
        "..........113333......",
        "..........224444......",
        "..........22..44444444",
        "..........22....444444",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_4_colour(destdir, padx, pady, template, 'jct7_C1C2_C3C4.png')

def make_hor1_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "1111111111111111111111",
        "1111111111111111111111",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'hor1_C1.png')

def make_hbr1_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "1111111111111111111111",
        "1111111111111111111111",
        ".....1111.............",
        ".......111............",
        "........11............",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'hbr1_C1.png')


def make_crv1_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "11111.................",
        "1111111...............",
        ".....1111.............",
        ".......111............",
        "........11............",
        ".........11...........",
        ".........111..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'crv1_C1.png')

def make_hor2_icons(destdir, padx, pady):
    template = [
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "1111111111111111111111",
        "1111111111111111111111",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'hor2_C1.png')

def make_hbr2_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........111..........",
        ".........11...........",
        "........11............",
        ".......111............",
        ".....1111.............",
        "1111111111111111111111",
        "1111111111111111111111",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'hbr2_C1.png')

def make_crv2_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........111..........",
        ".........11...........",
        "........11............",
        ".......111............",
        ".....1111.............",
        "1111111...............",
        "11111.................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................",
        "......................"
    ];

    generate_1_colour(destdir, padx, pady, template, 'crv2_C1.png')

def make_crv3_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        ".........111..........",
        ".........11...........",
        "........11............",
        ".......111............",
        ".....1111.............",
        "1111111...............",
        "11111.................",
        "......................",
        "......................",
        "22222.................",
        "2222222...............",
        ".....2222.............",
        ".......222............",
        "........22............",
        ".........22...........",
        ".........222..........",
        "..........22..........",
        "..........22..........",
        "..........22.........."
    ];

    generate_2_colour(destdir, padx, pady, template, 'crv3_C1C2.png')

def make_ver_icons(destdir, padx, pady):
    template = [
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11..........",
        "..........11.........."
    ];

    generate_1_colour(destdir, padx, pady, template, 'ver_C1.png')

def generate_icons(destdir, padx, pady):
    for f in [
            make_stn_icons,

            make_pfm_icons,
            make_hlt_icons,

            make_lop_icons,
            make_sdg_icons,
            make_yrd_icons,
            make_end_icons,

            make_tnl_icons,
            make_tnk_icons,

            make_col_icons,
            make_min_icons,
            make_brd_icons,
            make_crs_icons,
            make_other_icons,

            make_jctstn0_icons,
            make_jctstn1_icons,
            make_jctstn2_icons,
            make_jctstn3_icons,
            make_jctstn4_icons,
            make_jctstn5_icons,
            make_jctstn6_icons,
            make_jctstn7_icons,

            make_jct0_icons,
            make_jct1_icons,
            make_jct2_icons,
            make_jct3_icons,
            make_jct4_icons,
            make_jct5_icons,
            make_jct6_icons,
            make_jct7_icons,

            make_hor1_icons,
            make_hbr1_icons,
            make_crv1_icons,
            make_hor2_icons,
            make_hbr2_icons,
            make_crv2_icons,
            make_crv3_icons,
            make_ver_icons,
        ]:
            f(destdir, padx, pady)

if __name__ == '__main__':
    p = argparse.ArgumentParser()
    p.add_argument('destdir', type=str, 
        help='Specify the path to the destination directory')
    p.add_argument('--padx', type=int, metavar='NPIXELS', default=8,
        help='Pad the icons by the given number of pixels on each side')
    p.add_argument('--pady', type=int, metavar='NPIXELS', default=16,
        help='Pad the icons by the given number of pixels on the top/bottom')

    args = p.parse_args()

    generate_icons(args.destdir, int(args.padx), int(args.pady))
